use strict;
use warnings;
use File::Spec::Functions;
require ''.catfile(updir, 'genpp.pl');

genheader("VideoWriter");

pp_addpm(<<'EOD');
=head2 open

=for ref

Open writing to given filename.

=for example

  $succeeded = $writer->open($name, $fourcc_code, $fps, $x, $y, $iscolor);
EOD

pp_addxs(<<'EOF');
int open(self, name, fourcc, fps, width, height, iscolor)
        PDL__OpenCV__VideoWriter self
        char *name
        int fourcc
        double fps
        int width
        int height
        char iscolor
CODE:
  SizeWrapper *sw = cw_Size_newWithDims(width, height);
  RETVAL = cw_VideoWriter_open(self, name, fourcc, fps, sw, iscolor);
  cw_Size_DESTROY(sw);
OUTPUT:
  RETVAL
EOF

genpp(@$_) for (
  ['VideoWriter','write',"Write a frame to the file.",1,'void',{},["Mat","image"]],
  ['VideoWriter','fourcc',"Turn 4 chars into fourcc int",0,'int',{},['char','c1'],['char','c2'],['char','c3'],['char','c4']],
);

pp_done();
