use strict;
use warnings;
use File::Spec::Functions;
require ''.catfile(updir, 'genpp.pl');

genheader("VideoWriter");

pp_addpm(<<'EOD');
=head2 open

=for ref

Open writing to given filename.

=for example

  $succeeded = $writer->open($name, $fourcc_code, $fps, $x, $y, $iscolor);
EOD

pp_addxs(<<'EOF');
int open(self, name, code, fps, width, height, iscolor)
        PDL__OpenCV__VideoWriter self
        char *name
        char *code
        double fps
        int width
        int height
        char iscolor
CODE:
  SizeWrapper *sw = cw_Size_newWithDims(width, height);
  RETVAL = cw_VideoWriter_open(self, name, cw_VideoWriter_fourcc(code[0],code[1],code[2],code[3]), fps, sw, iscolor);
  cw_Size_DESTROY(sw);
OUTPUT:
  RETVAL
EOF

genpp(@$_) for (
  ['VideoWriter','write',"Write a frame to the file.",1,'void',{},["Mat","image"]],
);

pp_done();
